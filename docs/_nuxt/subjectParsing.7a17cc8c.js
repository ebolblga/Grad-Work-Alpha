var y=Object.defineProperty;var U=(r,e,l)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[e]=l;var p=(r,e,l)=>(U(r,typeof e!="symbol"?e+"":e,l),l);function F(r,e){let l=[];for(let t=0;t<r.length;t++){const o=$(r[t]).split("]");if(o.length<=1)continue;e:for(let a=0;a<o.length-1;a++){const s=o[a].split(".");for(let n=0;n<s.length;n++)if(s[n].includes("["))if(e==="professor"){if(n<4||n>5)continue e;break}else{if(n<5||n>6)continue e;break}try{if(e==="professor"){let n=0;const i=s[0].toUpperCase().split(","),d=b(s[1].replace(/^\s+|\s+$/g,"")),f=s[2].replace(/\s+/g,"").replace("лекции","Лекции").replace("семинар","Cеминары").replace("лабораторныезанятия","Лабораторные занятия");let g="";f.includes("Лабораторные занятия")&&(s[4].includes("а")||s[4].includes("б"))&&(g="("+s[4].toUpperCase()+")",n++);const h=s[n+3].replace(" ","");let u=s[n+4]+".";for(let c=n+5;c<s.length;c++)u+=s[c]+".";const m="["+u.slice(0,-1).replace(/\[|\]/g,"").replace(/^\s+|\s+$/g,"")+"]",S=new w(i,d,f,g.replace(" ",""),h,m,D(u.slice(0,-1)),t);l.push(S)}else{let n=0;const i=[b(s[1].replace(/^\s+|\s+$/g,"")).replace(/.$/,c=>c[0].toUpperCase())+"."+s[2].toUpperCase()+"."],d=b(s[0].replace(/^\s+|\s+$/g,"")),f=s[3].replace(/\s+/g,"").replace("лекции","Лекции").replace("семинар","Cеминары").replace("лабораторныезанятия","Лабораторные занятия");let g="";f.includes("Лабораторные занятия")&&(s[4].includes("а")||s[4].includes("б"))&&(g="("+s[4].toUpperCase()+")",n++);const h=s[n+4].replace(" ","");let u=s[n+5]+".";for(let c=n+6;c<s.length;c++)u+=s[c]+".";const m="["+u.slice(0,-1).replace(/\[|\]/g,"").replace(/^\s+|\s+$/g,"")+"]",S=new w(i,d,f,g.replace(" ",""),h,m,D(u.slice(0,-1)),t);l.push(S)}}catch{console.log(s)}}}return I(l)}function $(r){let e=r.toLowerCase().replace(/\)/g,"]").replace(/\(/g,"[").replace(/\n/g," ").split(""),l="";for(let t=0;t<e.length;t++)e[t]==="["?/\d/.test(e[t+1])&&/\d/.test(e[t+2])&&/\./.test(e[t+3])&&(l+=e[t]):e[t]==="]"?(/\./.test(e[t-1])||/\d/.test(e[t-1])&&/\d/.test(e[t-2])&&/\./.test(e[t-3]))&&(l+=e[t]):l+=e[t];return l}function I(r){let e=[],l=!1;for(let t=0;t<r.length;t++){for(let o=0;o<e.length;o++){const a=e[o].time-r[t].time;(a===0||a===7||a===8)&&r[t].subgroup===e[o].subgroup&&r[t].dateStr.replace(/[ \[\]\.\-кчн]/g,"")===e[o].dateStr.replace(/[ \[\]\.\-кчн]/g,"")&&(l=!0)}l?console.log(r[t]):e.push(r[t]),l=!1}return e}function D(r){const e=r.replace(/(к.н.)|(ч.н.)|[\[\] ]/g,"").split(",");let l=[],t=7;r.includes("ч.н.")&&(t=14);for(let o=0;o<e.length;o++)if(e[o].includes("-")){const[a,s]=e[o].split("-");let n=C(a);const i=C(s);for(;n<=i;)l.push(n.toISOString()),n.setDate(n.getDate()+t)}else l.push(C(e[o]).toISOString());return l}function C(r){const[e,l]=r.split("."),t=new Date().getFullYear();return new Date(t,parseInt(l,10)-1,parseInt(e,10))}class w{constructor(e,l,t,o,a,s,n,i){p(this,"groups");p(this,"name");p(this,"type");p(this,"subgroup");p(this,"location");p(this,"dateStr");p(this,"dates");p(this,"time");this.groups=e,this.name=l,this.type=t,this.subgroup=o,this.location=a,this.dateStr=s,this.dates=n,this.time=i}}const M=new Map([[0,"8:30 - 10:10"],[1,"10:20 - 12:00"],[2,"12:20 - 14:00"],[3,"14:10 - 15:50"],[4,"16:00 - 17:40"],[5,"18:00 - 19:30"],[6,"19:40 - 21:10"],[7,"21:20 - 22:50"],[8,"8:30 - 12:00"],[9,"10:20 - 14:00"],[10,"12:20 - 15:50"],[11,"14:10 - 17:40"],[12,"16:00 - 19:30"],[13,"18:00 - 21:10"],[14,"19:40 - 22:50"],[15,"21:20 - 1:00"]]);function b(r){return r.charAt(0).toUpperCase()+r.slice(1)}export{D as a,F as p,M as t};
