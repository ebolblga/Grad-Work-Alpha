var y=Object.defineProperty;var U=(r,e,s)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var p=(r,e,s)=>(U(r,typeof e!="symbol"?e+"":e,s),s);function F(r,e){let s=[];for(let t=0;t<r.length;t++){const a=$(r[t]).split("]");if(a.length<=1)continue;e:for(let o=0;o<a.length-1;o++){const l=a[o].split(".");for(let n=0;n<l.length;n++)if(l[n].includes("["))if(e==="professor"){if(n<4||n>5)continue e;break}else{if(n<5||n>6)continue e;break}try{if(e==="professor"){let n=0;const i=l[0].toUpperCase().split(","),d=b(l[1].replace(/^\s+|\s+$/g,"")),f=l[2].replace(/\s+/g,"").replace("лекции","Лекции").replace("семинар","Cеминары").replace("лабораторныезанятия","Лабораторные занятия");let g="";f.includes("Лабораторные занятия")&&(l[4].includes("а")||l[4].includes("б"))&&(g="("+l[4].toUpperCase()+")",n++);const h=l[n+3].replace(" ","");let u=l[n+4]+".";for(let c=n+5;c<l.length;c++)u+=l[c]+".";const m="["+u.slice(0,-1).replace(/\[|\]/g,"").replace(/^\s+|\s+$/g,"")+"]",S=new w(i,d,f,g.replace(" ",""),h,m,D(u.slice(0,-1)),t);s.push(S)}else{let n=0;const i=[b(l[1].replace(/^\s+|\s+$/g,"")).replace(/.$/,c=>c[0].toUpperCase())+"."+l[2].toUpperCase()+"."],d=b(l[0].replace(/^\s+|\s+$/g,"")),f=l[3].replace(/\s+/g,"").replace("лекции","Лекции").replace("семинар","Cеминары").replace("лабораторныезанятия","Лабораторные занятия");let g="";f.includes("Лабораторные занятия")&&(l[4].includes("а")||l[4].includes("б"))&&(g="("+l[4].toUpperCase()+")",n++);const h=l[n+4].replace(" ","");let u=l[n+5]+".";for(let c=n+6;c<l.length;c++)u+=l[c]+".";const m="["+u.slice(0,-1).replace(/\[|\]/g,"").replace(/^\s+|\s+$/g,"")+"]",S=new w(i,d,f,g.replace(" ",""),h,m,D(u.slice(0,-1)),t);s.push(S)}}catch{}}}return I(s)}function $(r){let e=r.toLowerCase().replace(/\)/g,"]").replace(/\(/g,"[").replace(/\n/g," ").split(""),s="";for(let t=0;t<e.length;t++)e[t]==="["?/\d/.test(e[t+1])&&/\d/.test(e[t+2])&&/\./.test(e[t+3])&&(s+=e[t]):e[t]==="]"?(/\./.test(e[t-1])||/\d/.test(e[t-1])&&/\d/.test(e[t-2])&&/\./.test(e[t-3]))&&(s+=e[t]):s+=e[t];return s}function I(r){let e=[],s=!1;for(let t=0;t<r.length;t++){for(let a=0;a<e.length;a++){const o=e[a].time-r[t].time;(o===0||o===7||o===8)&&r[t].subgroup===e[a].subgroup&&r[t].dateStr.replace(/[ \[\]\.\-кчн]/g,"")===e[a].dateStr.replace(/[ \[\]\.\-кчн]/g,"")&&(s=!0)}s?console.log(r[t]):e.push(r[t]),s=!1}return e}function D(r){const e=r.replace(/(к.н.)|(ч.н.)|[\[\] ]/g,"").split(",");let s=[],t=7;r.includes("ч.н.")&&(t=14);for(let a=0;a<e.length;a++)if(e[a].includes("-")){const[o,l]=e[a].split("-");let n=C(o);const i=C(l);for(;n<=i;)s.push(n.toISOString()),n.setDate(n.getDate()+t)}else s.push(C(e[a]).toISOString());return s}function C(r){const[e,s]=r.split("."),t=new Date().getFullYear();return new Date(t,parseInt(s,10)-1,parseInt(e,10))}class w{constructor(e,s,t,a,o,l,n,i){p(this,"groups");p(this,"name");p(this,"type");p(this,"subgroup");p(this,"location");p(this,"dateStr");p(this,"dates");p(this,"time");this.groups=e,this.name=s,this.type=t,this.subgroup=a,this.location=o,this.dateStr=l,this.dates=n,this.time=i}}const M=new Map([[0,"8:30 - 10:10"],[1,"10:20 - 12:00"],[2,"12:20 - 14:00"],[3,"14:10 - 15:50"],[4,"16:00 - 17:40"],[5,"18:00 - 19:30"],[6,"19:40 - 21:10"],[7,"21:20 - 22:50"],[8,"8:30 - 12:00"],[9,"10:20 - 14:00"],[10,"12:20 - 15:50"],[11,"14:10 - 17:40"],[12,"16:00 - 19:30"],[13,"18:00 - 21:10"],[14,"19:40 - 22:50"],[15,"21:20 - 1:00"]]);function b(r){return r.charAt(0).toUpperCase()+r.slice(1)}export{D as a,F as p,M as t};
