var C=Object.defineProperty;var I=(r,e,s)=>e in r?C(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var c=(r,e,s)=>(I(r,typeof e!="symbol"?e+"":e,s),s);function M(r,e){let s=[];for(let t=0;t<r.length;t++){const o=$(r[t]).split("]");if(o.length<=1)continue;e:for(let a=0;a<o.length-1;a++){const l=o[a].split(".");for(let n=0;n<l.length;n++)if(l[n].includes("[")){if(n<5||n>6)continue e;break}try{if(e==="professor"){let n=0;const i=l[0].split(","),d=b(l[1].replace(/^\s+|\s+$/g,"")),u=l[2].replace(/\s+/g,"").replace("лекции","Лекции").replace("семинар","Cеминары").replace("лабораторныезанятия","Лабораторные занятия");let g="";u.includes("Лабораторные занятия")&&(l[3].includes("(А)")||l[3].includes("(Б)"))&&(g=l[3],n++);const m=l[n+3].replace(" ","");let p=l[n+4]+".";for(let f=n+5;f<l.length;f++)p+=l[f]+".";const S=new y(i,d,u,g.replace(" ",""),m,p.slice(0,-1),w(p.slice(0,-1)),t);s.push(S)}else{let n=0;const i=[b(l[1].replace(/^\s+|\s+$/g,"")).replace(/.$/,h=>h[0].toUpperCase())+"."+l[2].toUpperCase()+"."],d=b(l[0].replace(/^\s+|\s+$/g,"")),u=l[3].replace(/\s+/g,"").replace("лекции","Лекции").replace("семинар","Cеминары").replace("лабораторныезанятия","Лабораторные занятия");let g="";u.includes("Лабораторные занятия")&&(l[4].includes("а")||l[4].includes("б"))&&(g="("+l[4].toUpperCase()+")",n++);const m=l[n+4].replace(" ","");let p=l[n+5]+".";for(let h=n+6;h<l.length;h++)p+=l[h]+".";const S="["+p.slice(0,-1).replace(/\[|\]/g,"").replace(/^\s+|\s+$/g,"")+"]",f=new y(i,d,u,g.replace(" ",""),m,S,w(p.slice(0,-1)),t);s.push(f)}}catch{}}}return U(s)}function $(r){let e=r.toLowerCase().replace(/\)/g,"]").replace(/\(/g,"[").replace(/\n/g," ").split(""),s="";for(let t=0;t<e.length;t++)e[t]==="["?/\d/.test(e[t+1])&&/\d/.test(e[t+2])&&/\./.test(e[t+3])&&(s+=e[t]):e[t]==="]"?(/\./.test(e[t-1])||/\d/.test(e[t-1])&&/\d/.test(e[t-2])&&/\./.test(e[t-3]))&&(s+=e[t]):s+=e[t];return s}function U(r){let e=[],s=!1;for(let t=0;t<r.length;t++){for(let o=0;o<e.length;o++){const a=e[o].time-r[t].time;(a===0||a===7||a===8)&&r[t].subgroup===e[o].subgroup&&r[t].dateStr.replace(/[ \[\]\.\-кчн]/g,"")===e[o].dateStr.replace(/[ \[\]\.\-кчн]/g,"")&&(s=!0)}s?console.log(r[t]):e.push(r[t]),s=!1}return console.log(e),e}function w(r){const e=r.replace(/(к.н.)|(ч.н.)|[\[\] ]/g,"").split(",");let s=[],t=7;r.includes("ч.н.")&&(t=14);for(let o=0;o<e.length;o++)if(e[o].includes("-")){const[a,l]=e[o].split("-");let n=D(a);const i=D(l);for(;n<=i;)s.push(n.toISOString()),n.setDate(n.getDate()+t)}else s.push(D(e[o]).toISOString());return s}function D(r){const[e,s]=r.split("."),t=new Date().getFullYear();return new Date(t,parseInt(s,10)-1,parseInt(e,10))}class y{constructor(e,s,t,o,a,l,n,i){c(this,"groups");c(this,"name");c(this,"type");c(this,"subgroup");c(this,"location");c(this,"dateStr");c(this,"dates");c(this,"time");this.groups=e,this.name=s,this.type=t,this.subgroup=o,this.location=a,this.dateStr=l,this.dates=n,this.time=i}}const j=new Map([[0,"8:30 - 10:10"],[1,"10:20 - 12:00"],[2,"12:20 - 14:00"],[3,"14:10 - 15:50"],[4,"16:00 - 17:40"],[5,"18:00 - 19:30"],[6,"19:40 - 21:10"],[7,"21:20 - 22:50"],[8,"8:30 - 12:00"],[9,"10:20 - 14:00"],[10,"12:20 - 15:50"],[11,"14:10 - 17:40"],[12,"16:00 - 19:30"],[13,"18:00 - 21:10"],[14,"19:40 - 22:50"],[15,"21:20 - 1:00"]]);function b(r){return r.charAt(0).toUpperCase()+r.slice(1)}export{w as a,M as p,j as t};
